<div class="container">
	<br />
	<div class="jumbotron">
		<h1>Word Counter</h1>
		<p>Counting words, so you don't have to.</p>
		<br />
		<button type="button" class="btn btn-default btn-lg">
  			<span class="glyphicon glyphicon-star"></span> Awesome!
		</button>
	</div>
	
	<div class="row">
		
		<div class="col-md-12">
			
			<%= form_for @document, :url => wordcount_documents_path(@document), :multipart => true, :method => :post do |document_form| %>
				

				<h2>Step 1 - Text</h2>
				<p>Copy in a bunch of text to analyze (the more the merrier).</p>
				<%= document_form.text_area :content, :class => "form-control", :rows => 6 %>
				<br /><hr />
				
				<h2>Step 2 - Ignore Groups</h2>
				<p>Choose which groups of words to ignore</p>
				<% @ignore_groups.each do |ignore_group| %>
					<%= check_box_tag "ignore_group[#{ignore_group.id.to_s}]", ignore_group.id, @checked_ignore_groups[ignore_group.id] %> <%= ignore_group.title %> - <%= ignore_group.words.gsub(/,/,', ') %><br />
				<% end %>
				<br /><hr />
				
				<h3>Optional Custom Ignores</h3>
				<p>Optionally, also enter in some comma separated words to ignore.</p>
				<%= text_area_tag 'custom_ignore', params[:custom_ignore], :class => "form-control", :rows => 2 %>
				<br /><hr />
				
				<h2>Step 3 - Analyze</h2>
				<%= document_form.submit "Analyze!", :class => "btn btn-primary btn-large btn-analyze" %>
				<br /><hr />
				
			<% end %>
			
			
			<p class="instruction-step">Step 4) Look at the pretty data!</p>
			<br />

			Total words: <%= @total_word_count %>; Unique words: <%= @count_results.count %><br />
			<% @count_results.each do |word_result| %>

				<%= word_result[0] %> - <%= word_result[1] %>

				<div class="progress">
					<div class="bar" style="width: <%= (word_result[1].to_f / @total_word_count) * 100 %>%"></div>
				</div>
					
			<% end %>
		</div>
	</div>
</div>

<%= debug(params) %>


